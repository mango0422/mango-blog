/* app/globals.css */
@import "tailwindcss";
@import "nextra-theme-docs/style.css";
/* @import "nextra-theme-blog/style.css"; */

/* 1. Tailwind v4 테마 정의 (망고 블로그) */
@theme {
  /* 폰트 변수 (layout.tsx에서 주입됨) */
  --font-cute: var(--font-cute);
  --font-sans: var(--font-sans);

  /* 망고 컬러 팔레트 */
  --color-mango-bg: oklch(0.18 0.03 260);
  --color-mango-card: oklch(0.22 0.03 260);
  --color-mango-accent: oklch(0.78 0.16 280);
}

/* 2. Nextra CSS 변수 오버라이딩 (디자인 장악) */
:root {
  --nextra-primary-hue: 280deg;
  --nextra-primary-saturation: 80%;

  /* 폰트 적용: Nextra 기본 폰트도 CookieRun으로 */
  --nextra-font-sans: var(--font-sans);

  --nextra-bg: #ffffff;
}

/* 전체 페이지 기본 배경 */
html,
body {
  background-color: var(--color-mango-bg);
}

/* 다크모드 강제 색상 */
.dark {
  --nextra-bg: var(--color-mango-bg) !important;
  --nextra-sidebar-bg: var(--color-mango-bg) !important;
}

/* 다크모드 수정: 텍스트 가독성을 위해 밝기를 올림 */
.dark body {
  /* 기존 0.9 -> 0.94 로 상향 조정 (더 밝게) */
  color: oklch(0.94 0.02 260);
}

/* 보조 텍스트들도 명도 대비를 높입니다 */
.dark .nx-text-gray-400,
.dark .nx-text-slate-400,
.dark .nx-text-neutral-400 {
  /* 기존 0.8 -> 0.85 */
  color: oklch(0.85 0.03 260) !important;
}

.dark .nx-text-gray-500,
.dark .nx-text-slate-500,
.dark .nx-text-neutral-500 {
  /* 기존 0.86 -> 0.90 */
  color: oklch(0.9 0.03 260) !important;
}

/* 사이드바/네비게이션 항목도 더 선명하게 */
.dark .nextra-sidebar .nx-text-sm,
.dark .nextra-sidebar .nx-text-xs {
  color: oklch(0.9 0.02 260) !important;
}

/* 푸터처럼 '회색 설명글'이 많은 곳도 전체 상향 */
.dark footer,
.dark .nextra-footer {
  color: oklch(0.84 0.02 260);
}

/* 다크모드일 때 사이드바/메뉴 텍스트 더 밝게 */
.dark .nextra-sidebar-item,
.dark .nextra-sidebar-item a,
.dark .nextra-menu,
.dark .nextra-menu a {
  color: oklch(0.85 0.03 280) !important; /* 밝은 보라빛 회색 */
}

/* 활성 메뉴/호버 시는 더 밝게 */
.dark .nextra-sidebar-item a:hover,
.dark .nextra-sidebar-item[data-active="true"] a,
.dark .nextra-sidebar-link:is([data-active="true"], :hover) {
  color: oklch(0.97 0.02 280) !important;
}

/* 섹션 제목(예: "Posts", "Til")도 같이 밝게 */
.dark .nextra-sidebar-title,
.dark .nextra-menu-header {
  color: oklch(0.8 0.03 280) !important;
}

.dark main,
.dark .nextra-content,
.dark .nextra-layout {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* 제목 폰트 교체 (귀여운 폰트) */
h1,
h2,
h3,
h4,
h5,
h6,
.nextra-search-input,
.nextra-nav-link,
.nextra-sidebar-item {
  font-family: var(--font-cute) !important;
  letter-spacing: 0.03em;
}

/* 본문 폰트 (가독성) */
body {
  font-family: var(--font-sans);
}

/* 데스크톱: 왼쪽 사이드바 오버레이/패널 */
@media (min-width: 1025px) {
  .nextra-sidebar-container {
    background-color: rgba(0, 0, 0, 0.55);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }

  .nextra-sidebar {
    background-color: var(--color-mango-bg);
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
  }
}

/* 모바일: 햄버거 메뉴 오버레이/패널 */
@media (max-width: 1024px) {
  .nextra-mobile-nav {
    background-color: rgba(0, 0, 0, 0.55) !important;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }

  .nextra-mobile-nav > div,
  .nextra-mobile-nav > ul {
    background-color: var(--color-mango-bg);
    border-radius: 0.75rem;
    margin: 0.75rem;
  }
}
